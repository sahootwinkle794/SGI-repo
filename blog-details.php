<?php include 'header.php'; ?>

<!--Page Header Start-->
        <section class="page-header">
            <div class="page-header__bg" style="background-image: url(assets/images/backgrounds/page-header-bg.png);">
            </div>
            <div class="container">
                <div class="page-header__inner">
                    <h3>Blog Details</h3>
                    <div class="thm-breadcrumb__inner">
                        <ul class="thm-breadcrumb list-unstyled">
                            <li><a href="index">Home</a></li>
                            <li><span class="fas fa-angle-right"></span></li>
                            <li>Blog Details</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        <!--Page Header End-->

        <!--Blog Details Start -->
        <section class="blog-details">
            <div class="container">
                <div class="row">
                    <!-- <div class="col-xl-8 col-lg-7"> -->
                        <div class="col-xl-8 col-lg-7 blog-details__left"  id="blog-details-container">
                            <div class="blog-details__img">
                                <img id="blog-image" src="" alt="">
                                <div class="blog-details__tag-1">
                                    <a href="javascript:void(0);" id="blog-category"></a>
                                </div>
                                <div class="blog-details__date">
                                    <p id="blog-date"></p>
                                </div>
                            </div>

                            <div class="blog-details__content">
                                <div class="blog-details__user-and-meta">
                                    <div class="blog-details__user">
                                        <p><span class="icon-user"></span>By <span id="blog-author"></span></p>
                                    </div>
                                    <ul class="blog-details__meta list-unstyled">
                                        <!-- <li>
                                            <a href="#"><span class="fas fa-comments"></span>Visitors (05)</a>
                                        </li> -->
                                        <li>
                                            <a href="#"><span class="fas fa-clock"></span>4 Min Read</a>
                                        </li>
                                    </ul>
                                </div>

                                <h3 class="blog-details__title" id="blog-title"></h3>

                                <!-- FULL BLOG CONTENT -->
                                <div id="blog-content"></div>
                            </div>

                            <!-- <p>Loading blog details...</p> -->

                            <!-- <div class="blog-details__img">
                                 <img src="assets/images/blog/ster.png" alt="">
                                <div class="blog-details__tag-1">
                                    <a href="javascript:void(0);"> Medical Sterilization</a>
                                </div>
                                <div class="blog-details__date">
                                    <p>13 <span>Aug</span></p>
                                </div>
                            </div>
                            <div class="blog-details__content">
                                <div class="blog-details__user-and-meta">
                                    <div class="blog-details__user">
                                        <p><span class="icon-user"></span>By Admin</p>
                                    </div>
                                    <ul class="blog-details__meta list-unstyled">
                                        <li>
                                            <a href="#"><span class="fas fa-comments"></span>Visitors (05)</a>
                                        </li>
                                        <li>
                                            <a href="#"><span class="fas fa-clock"></span>4 Min Read</a>
                                        </li>
                                    </ul>
                                </div>
                                <h3 class="blog-details__title">How Technology Is Changing the Sterilization of Surgical Instruments?

                                </h3>
                                <p class="blog-details__text-1">Sterilization has always been a critical component of
                                     surgical safety, but advancements in technology are rapidly transforming how healthcare
                                      facilities ensure instrument sterility. From automation and data-driven monitoring to
                                       advanced low-temperature and radiation-based methods, modern sterilization technologies
                                        are making surgical procedures safer, faster, and more reliable than ever before.</p>
                                <p class="blog-details__text-2">This blog explores how technology is reshaping surgical instrument
                                     sterilization and what it means for the future of healthcare.</p>
                                
                                <h3 class="blog-details__title-2">The Evolution of Surgical Sterilization</h3>
                                <p class="blog-details__text-3">Traditional sterilization methods such as steam autoclaving and dry
                                     heat remain essential, but they are increasingly being supported—and in some
                                      cases enhanced—by advanced technologies. The growing complexity of surgical
                                       instruments, including minimally invasive and robotic tools, has driven the need
                                        for more precise and adaptable sterilization solutions.
                                </p>
                                <h3 class="blog-details__title-2">Automation and Smart Sterilization Systems</h3>
                                <p class="blog-details__text-3">Modern sterilization units now integrate <b>automation and smart controls</b> to reduce human error and improve consistency. These systems can:
                                </p>
                               <ul class="about-one__points list-unstyled specific-p">
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-wheat"></span>
                                            </div>
                                            <p>Automatically adjust cycle parameters such as temperature, pressure, and exposure time
                                            </p>
                                        </li>
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-wheat"></span>
                                            </div>
                                            <p>Non-toxic and safeTrack instrument loads digitally
                                            </p>
                                        </li>
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-wheat"></span>
                                            </div>
                                            <p>Generate real-time alerts and reports
                                            </p>
                                        </li>
                                    </ul>
                                    <p>Automation improves operational efficiency while ensuring validated and repeatable sterilization outcomes.
                                    </p>
                                     <h3 class="blog-details__title-2">Low-Temperature Sterilization Technologies
                                        </h3>
                                <p class="blog-details__text-3">Many modern surgical instruments are sensitive to heat and moisture. To address this, healthcare facilities increasingly rely on low-temperature sterilization methods, including:
                                </p>
                               <ul class="about-one__points list-unstyled specific-p">
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-wheat"></span>
                                            </div>
                                            <p>Hydrogen peroxide plasma
                                            </p>
                                        </li>
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-wheat"></span>
                                            </div>
                                            <p>Ethylene oxide (EtO) gas
                                            </p>
                                        </li>
                                        <li>
                                            <div class="icon">
                                                <span class="fas fa-wheat"></span>
                                            </div>
                                            <p>Generate real-time alerts and Ozone-based systems
                                            </p>
                                        </li>
                                    </ul>
                                    <p>These technologies enable effective sterilization without damaging delicate materials, extending instrument lifespan and reducing replacement costs.
                                    </p>
                                    
                               
                            </div> -->
                        </div>
                    <!-- </div> -->

                    <!--Start Sidebar-->
                    <div class="col-xl-4 col-lg-5">
                        <div class="sidebar">
                            <!--Start Sidebar Single-->
                            
                            <!--End Sidebar Single-->


                            <!--Start Sidebar Single-->
                            <div class="sidebar__single sidebar__category wow fadeInUp blog-cat" data-wow-delay=".1s">
                                <h3 class="sidebar__title ">Categories</h3>
                                <ul class="sidebar__category-list list-unstyled" id="category-list">
                                    <!-- Categories will be populated here -->
                                </ul>
                            </div>

                            <!-- <div class="sidebar__single sidebar__category wow fadeInUp" data-wow-delay=".1s">
                                <h3 class="sidebar__title">Categories</h3>
                                <ul class="sidebar__category-list list-unstyled">
                                    <li class="active"><a href="#">
                                            Medical Sterilization <span>(12)</span></a></li>
                                    <li ><a href="#">Regulatory Compliance
                                            <span>(15)</span></a></li>
                                    <li><a href="#">Food Irradiation <span>(08)</span></a></li>
                                    <li><a href="#">
                                            Instrument Sterilization <span>(20)</span></a></li>
                                    <li><a href="#">
                                            Food Preservation <span>(14)</span></a></li>
                                </ul>
                            </div> -->
                            <!--End Sidebar Single-->

                            <!--Start Sidebar Single-->
                            <!-- <div class="sidebar__single sidebar__post wow fadeInUp" data-wow-delay=".1s">
                                <h3 class="sidebar__title">Recent Post</h3>
                                <div class="sidebar__post-box">
                                    <div class="sidebar__post-single">
                                        <div class="sidebar-post__img">
                                            <img src="assets/images/products/products-1-5.png" alt="">
                                        </div>
                                        <div class="sidebar__post-content-box">
                                            <h3><a href="#">Sustainability Begins with the Care of Every Life.</a>
                                            </h3>
                                        </div>
                                    </div>

                                    <div class="sidebar__post-single">
                                        <div class="sidebar-post__img">
                                            <img src="assets/images/products/products-1-5.png" alt="">
                                        </div>
                                        <div class="sidebar__post-content-box">
                                            <h3><a href="#">Back to Nature — Growing Health for Tomorrow.</a>
                                            </h3>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                            <div class="sidebar__single sidebar__post wow fadeInUp" data-wow-delay=".1s">
                                <h3 class="sidebar__title">Recent Post</h3>
                                <div class="sidebar__post-box" id="recent-posts">
                                    <!-- Recent posts will load here -->
                                </div>
                            </div>


                            <!--End Sidebar Single-->

                            

                        </div>
                    </div>
                    <!--End Sidebar-->
                </div>
            </div>
        </section>
        <!--Blog Details End-->













<!-- blog details api used  -->
<script>
const apiUrl = "https://gov.silicontechlab.com/sgi_web/api/blogs";

// Helper to decode HTML entities
function decodeHTML(html) {
  const txt = document.createElement("textarea");
  txt.innerHTML = html;
  return txt.value;
}

// Helper to strip HTML for reading time
function stripHTML(html = "") {
  const div = document.createElement("div");
  div.innerHTML = decodeHTML(html);
  return div.textContent || div.innerText || "";
}

// Calculate reading time
function getReadingTime(html = "") {
  const words = stripHTML(html).trim().split(/\s+/).length;
  return Math.max(1, Math.ceil(words / 200));
}

// Get blog_id from URL
const params = new URLSearchParams(window.location.search);
const blogId = params.get("blog_id");

async function loadBlogDetails() {
  try {
    const response = await fetch(apiUrl);
    const result = await response.json();
    console.log("BLOG DETAILS DATA:", result);

    if (!result.status || !Array.isArray(result.data)) return;

    const blog = result.data.find(b => String(b.blog_id) === String(blogId));
    if (!blog) return;

    // Decode HTML content
    const decodedContent = decodeHTML(blog.blog_details || "");

    // Month name
    const monthName = new Date(`${blog.year}-${blog.month}-01`)
      .toLocaleString("default", { month: "short" });

    // Bind data
    document.getElementById("blog-image").src = blog.photo_path || "assets/images/blog/default.png";
    document.getElementById("blog-category").innerText = blog.cat_name || "";
    document.getElementById("blog-date").innerHTML = `${blog.day} <span>${monthName}</span>`;
    document.getElementById("blog-author").innerText = blog.blog_auther || "Admin";
    document.getElementById("blog-title").innerText = blog.blog_head || "";

    // Update reading time
    const minutes = getReadingTime(blog.blog_details);
    const clockMeta = document.querySelector(".blog-details__meta li a .fas.fa-clock")?.parentElement;
    if (clockMeta) {
      clockMeta.innerHTML = `<span class="fas fa-clock"></span> ${minutes} Min Read`;
    }

    // Render decoded HTML content
    document.getElementById("blog-content").innerHTML = decodedContent;

  } catch (error) {
    console.error("Blog Details Error:", error);
  }
}

document.addEventListener("DOMContentLoaded", loadBlogDetails);
</script>


<!-- recent blog api used -->
<script>
document.addEventListener("DOMContentLoaded", async () => {

    const BLOG_API = "https://gov.silicontechlab.com/sgi_web/api/blogs";
    const postsBox = document.getElementById("recent-posts");

    if (!postsBox) {
        console.error("Sidebar container not found!");
        return;
    }

    // Get current blog_id from URL
    const params = new URLSearchParams(window.location.search);
    const currentBlogId = params.get("blog_id");
    console.log("Current Blog ID:", currentBlogId);

    try {
        const res = await fetch(BLOG_API);
        const result = await res.json();
        console.log("API Result:", result);

        if (!result.status || !Array.isArray(result.data)) {
            console.error("No blog data available");
            postsBox.innerHTML = "<p>No recent posts available</p>";
            return;
        }

        // Sort blogs by date descending
        const sortedBlogs = result.data.sort((a, b) => {
            const dateA = new Date(`${a.year}-${a.month}-${a.day}`);
            const dateB = new Date(`${b.year}-${b.month}-${b.day}`);
            return dateB - dateA;
        });

        // Exclude current blog
        const filteredBlogs = sortedBlogs.filter(blog => String(blog.blog_id) !== String(currentBlogId));

        // Take top 2
        const recentBlogs = filteredBlogs.slice(0, 2);

        if (recentBlogs.length === 0) {
            postsBox.innerHTML = "<p>No recent posts available</p>";
            return;
        }

        // Render
        recentBlogs.forEach(blog => {
            const html = `
                <div class="sidebar__post-single">
                    <div class="sidebar-post__img">
                        <img src="${blog.photo_path}" alt="${blog.blog_head}" />
                    </div>
                    <div class="sidebar__post-content-box">
                        <h3>
                            <a href="blog-details?blog_id=${blog.blog_id}">${blog.blog_head}</a>
                        </h3>
                    </div>
                </div>
            `;
            postsBox.insertAdjacentHTML("beforeend", html);
        });

    } catch (err) {
        console.error("Error loading recent posts:", err);
        postsBox.innerHTML = "<p>Error loading recent posts</p>";
    }

});
</script>

<!-- blog category api used -->

<script>
document.addEventListener("DOMContentLoaded", async () => {

    const BLOG_API = "https://gov.silicontechlab.com/sgi_web/api/blogs";
    const categoryList = document.getElementById("category-list");

    if (!categoryList) {
        console.error("Category list container not found!");
        return;
    }

    // Get current blog_id from URL (?blog_id=123)
    const params = new URLSearchParams(window.location.search);
    const blogId = params.get("blog_id");

    try {
        const res = await fetch(BLOG_API);
        const result = await res.json();

        if (!result.status || !Array.isArray(result.data)) {
            categoryList.innerHTML = "<li>No categories available</li>";
            return;
        }

        // Get current blog to detect active category
        let activeCategory = null;
        if (blogId) {
            const currentBlog = result.data.find(blog => blog.blog_id == blogId);
            if (currentBlog) activeCategory = currentBlog.cat_name;
        }

        // Count blogs per category
        const counts = {};
        result.data.forEach(blog => {
            const cat = blog.cat_name || "Uncategorized";
            counts[cat] = (counts[cat] || 0) + 1;
        });

        // Sort categories alphabetically (optional)
        const sortedCategories = Object.keys(counts).sort();

        // Render categories
        categoryList.innerHTML = "";
        sortedCategories.forEach(catName => {
            const count = counts[catName];
            const li = document.createElement("li");

            // Highlight active category
            if (activeCategory && catName === activeCategory) {
                li.classList.add("active"); // CSS can style .active differently
            }

            li.innerHTML = `
                <a href="blog?category=${encodeURIComponent(catName)}">
                    ${catName} <span>(${count})</span>
                </a>
            `;
            categoryList.appendChild(li);
        });

    } catch (err) {
        console.error("Error loading categories:", err);
        categoryList.innerHTML = "<li>Error loading categories</li>";
    }

});
</script>
  
<?php include 'footer.php'; ?>